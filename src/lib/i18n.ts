import i18next from 'i18next'
import { initReactI18next } from 'react-i18next'

const savedLanguage =
  typeof window !== 'undefined' ? window.localStorage.getItem('inkline-lang') : null

const resources = {
  zh: {
    translation: {
      brand: {
        name: 'Inkline',
        subtitle: 'Markdown 工作台',
      },
      actions: {
        newDoc: '新建文档',
        newFolder: '新建文件夹',
        rename: '重命名',
        move: '移动',
        delete: '删除',
        save: '保存',
        cancel: '取消',
        syncNow: '立即同步',
        preview: '预览',
        history: '历史版本',
        share: '分享',
        exportHtml: '导出 HTML',
        exportPdf: '导出 PDF',
        insertImage: '插入图片',
        uploadImage: '上传图片',
        copyLink: '复制链接',
        restore: '恢复',
      },
      labels: {
        searchResults: '搜索结果',
        folders: '文件夹',
        documents: '文档',
        allDocuments: '全部文档',
        parent: '父级',
        name: '名称',
        folderRoot: '根目录',
        language: '语言',
      },
      placeholders: {
        search: '搜索文档',
        addTag: '添加标签',
        folderName: '文件夹名称',
        newName: '新名称',
        imageUrl: '图片链接',
        untitledDoc: '未命名文档',
      },
      filters: {
        titleContent: '标题+内容',
        titleOnly: '仅标题',
        contentOnly: '仅内容',
        anyTime: '不限时间',
        last7: '最近7天',
        last30: '最近30天',
      },
      status: {
        syncing: '同步中',
        synced: '已同步',
        syncError: '同步失败',
        localOnly: '仅本地',
      },
      messages: {
        noResults: '无搜索结果',
        noDocuments: '此文件夹暂无文档',
        noVersions: '暂无版本',
        loadingWorkspace: '正在加载工作区...',
        loadingShared: '正在加载共享文档...',
        shareUnavailable: '该分享链接不可用。',
        createShareFirst: '请先创建分享链接。',
        selectDocument: '请选择文档开始编辑。',
        uploadFailed: '上传失败：{{message}}',
      },
      dialogs: {
        newFolder: '新建文件夹',
        renameFolder: '重命名文件夹',
        renameDoc: '重命名文档',
        shareDoc: '分享文档',
        versionHistory: '版本历史',
        moveFolder: '移动文件夹',
      },
      fields: {
        folder: '文件夹',
        parentFolder: '父级文件夹',
        name: '名称',
      },
      auth: {
        title: 'Inkline 工作区',
        createSubtitle: '创建账号以同步你的笔记',
        signInSubtitle: '登录以同步你的笔记',
        email: '邮箱',
        password: '密码',
        createAccount: '创建账号',
        signIn: '登录',
        haveAccount: '已有账号？登录',
        needAccount: '还没有账号？注册',
        confirmationSent: '已发送确认邮件至 {{email}}，请先完成邮箱验证。',
        invalidCredentials: '登录失败：账号未验证或密码错误。',
        resendConfirmation: '重新发送确认邮件',
        resending: '正在发送...',
        resendSuccess: '已重新发送确认邮件至 {{email}}。',
        emailHint: '若未收到邮件，请检查垃圾箱或更换邮箱，必要时在 Supabase 配置 SMTP。',
      },
      editor: {
        wysiwyg: '所见即所得',
        source: '源码',
        saveVersion: '保存版本',
        history: '历史',
        preview: '预览',
        share: '分享',
        exportHtml: '导出 HTML',
        exportPdf: '导出 PDF',
        insertImage: '插入图片',
        uploadImage: '上传图片',
        imageUrlPrompt: '图片链接',
        placeholder: '开始书写 Markdown...',
      },
      share: {
        copyLink: '复制链接',
        createFirst: '请先创建分享链接。',
      },
      version: {
        item: '版本 {{number}}',
      },
      a11y: {
        toggleSidebar: '切换侧边栏',
        togglePreview: '切换预览',
      },
      search: {
        titleContent: '标题+内容',
        titleOnly: '仅标题',
        contentOnly: '仅内容',
      },
    },
  },
  en: {
    translation: {
      brand: {
        name: 'Inkline',
        subtitle: 'Markdown Studio',
      },
      actions: {
        newDoc: 'New document',
        newFolder: 'New folder',
        rename: 'Rename',
        move: 'Move',
        delete: 'Delete',
        save: 'Save',
        cancel: 'Cancel',
        syncNow: 'Sync now',
        preview: 'Preview',
        history: 'History',
        share: 'Share',
        exportHtml: 'Export HTML',
        exportPdf: 'Export PDF',
        insertImage: 'Insert image',
        uploadImage: 'Upload image',
        copyLink: 'Copy link',
        restore: 'Restore',
      },
      labels: {
        searchResults: 'Search results',
        folders: 'Folders',
        documents: 'Documents',
        allDocuments: 'All documents',
        parent: 'Parent',
        name: 'Name',
        folderRoot: 'Root',
        language: 'Language',
      },
      placeholders: {
        search: 'Search documents',
        addTag: 'Add tag',
        folderName: 'Folder name',
        newName: 'New name',
        imageUrl: 'Image URL',
        untitledDoc: 'Untitled document',
      },
      filters: {
        titleContent: 'Title + content',
        titleOnly: 'Title only',
        contentOnly: 'Content only',
        anyTime: 'Any time',
        last7: 'Last 7 days',
        last30: 'Last 30 days',
      },
      status: {
        syncing: 'Syncing',
        synced: 'Synced',
        syncError: 'Sync error',
        localOnly: 'Local only',
      },
      messages: {
        noResults: 'No results.',
        noDocuments: 'No documents in this folder.',
        noVersions: 'No versions yet.',
        loadingWorkspace: 'Loading workspace...',
        loadingShared: 'Loading shared document...',
        shareUnavailable: 'This share link is no longer available.',
        createShareFirst: 'Create a share link first.',
        selectDocument: 'Select a document to begin.',
        uploadFailed: 'Upload failed: {{message}}',
      },
      dialogs: {
        newFolder: 'New folder',
        renameFolder: 'Rename folder',
        renameDoc: 'Rename document',
        shareDoc: 'Share document',
        versionHistory: 'Version history',
        moveFolder: 'Move folder',
      },
      fields: {
        folder: 'Folder',
        parentFolder: 'Parent folder',
        name: 'Name',
      },
      auth: {
        title: 'Inkline Workspace',
        createSubtitle: 'Create your account',
        signInSubtitle: 'Sign in to sync your notes',
        email: 'Email',
        password: 'Password',
        createAccount: 'Create account',
        signIn: 'Sign in',
        haveAccount: 'Already have an account? Sign in',
        needAccount: 'Need an account? Sign up',
        confirmationSent: 'Confirmation email sent to {{email}}. Please verify first.',
        invalidCredentials: 'Login failed: email not verified or password incorrect.',
        resendConfirmation: 'Resend confirmation email',
        resending: 'Resending...',
        resendSuccess: 'Confirmation email resent to {{email}}.',
        emailHint:
          'If you do not receive the email, check spam or use another provider. You may need to configure SMTP in Supabase.',
      },
      editor: {
        wysiwyg: 'WYSIWYG',
        source: 'Source',
        saveVersion: 'Save version',
        history: 'History',
        preview: 'Preview',
        share: 'Share',
        exportHtml: 'Export HTML',
        exportPdf: 'Export PDF',
        insertImage: 'Insert image',
        uploadImage: 'Upload image',
        imageUrlPrompt: 'Image URL',
        placeholder: 'Start writing your markdown...',
      },
      share: {
        copyLink: 'Copy link',
        createFirst: 'Create a share link first.',
      },
      version: {
        item: 'Version {{number}}',
      },
      a11y: {
        toggleSidebar: 'Toggle sidebar',
        togglePreview: 'Toggle preview',
      },
      search: {
        titleContent: 'Title + content',
        titleOnly: 'Title only',
        contentOnly: 'Content only',
      },
    },
  },
}

i18next.use(initReactI18next).init({
  resources,
  lng: savedLanguage || 'zh',
  fallbackLng: 'en',
  supportedLngs: ['zh', 'en'],
  interpolation: {
    escapeValue: false,
  },
})

export default i18next
